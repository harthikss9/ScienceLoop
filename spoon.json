{
  "name": "ScienceLoop",
  "version": "1.0.0",
  "description": "AI4Science project for understanding scientific papers",
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["@modelcontextprotocol/server-filesystem"],
      "enabled": true
    },
    "process": {
      "command": "npx",
      "args": ["@modelcontextprotocol/server-process"],
      "enabled": true
    },
    "shell": {
      "command": "npx",
      "args": ["@modelcontextprotocol/server-shell"],
      "enabled": true
    }
  },
  "agents": {
    "PaperUnderstandingAgent": {
      "path": "./agents/PaperUnderstandingAgent.py",
      "language": "python",
      "description": "Analyzes scientific PDFs to extract formulas, variables, relationships, and key ideas",
      "arguments": [
        {
          "name": "pdf",
          "type": "string",
          "required": true,
          "description": "Path to PDF file inside /papers directory"
        }
      ]
    },
    "KnowledgeGraphAgent": {
      "path": "./agents/KnowledgeGraphAgent.py",
      "language": "python",
      "description": "Builds a scientific knowledge graph from Step 1 JSON output",
      "arguments": [
        {
          "name": "input",
          "type": "string",
          "required": false,
          "description": "Path to JSON file from Step 1 (PaperUnderstandingAgent output)"
        },
        {
          "name": "stdin",
          "type": "boolean",
          "required": false,
          "description": "Read JSON from stdin instead of file"
        }
      ]
    },
    "HypothesisAgent": {
      "path": "./agents/HypothesisAgent.py",
      "language": "python",
      "description": "Generates scientific hypotheses from paper understanding and knowledge graph using Claude 4.5 Sonnet",
      "arguments": [
        {
          "name": "input",
          "type": "string",
          "required": true,
          "description": "Path to JSON file from Step 1 (PaperUnderstandingAgent output)"
        },
        {
          "name": "kg",
          "type": "string",
          "required": true,
          "description": "Path to JSON file from KnowledgeGraphAgent (knowledge graph with nodes and edges)"
        }
      ]
    },
    "SimulationPlanAgent": {
      "path": "./agents/SimulationPlanAgent.py",
      "language": "python",
      "description": "Generates a precise, simulation-ready plan from hypothesis, paper understanding, and knowledge graph using Claude 4.5 Sonnet",
      "arguments": [
        {
          "name": "hypothesis",
          "type": "string",
          "required": true,
          "description": "Path to JSON file from HypothesisAgent (hypothesis output)"
        },
        {
          "name": "paper",
          "type": "string",
          "required": true,
          "description": "Path to JSON file from PaperUnderstandingAgent (Step 1 output with formulas, variables, relationships)"
        },
        {
          "name": "kg",
          "type": "string",
          "required": true,
          "description": "Path to JSON file from KnowledgeGraphAgent (knowledge graph with nodes and edges)"
        }
      ]
    },
    "CodeGeneratorAgent": {
      "path": "./agents/CodeGeneratorAgent.py",
      "language": "python",
      "description": "Converts a simulation plan JSON into a complete, runnable Python script using GPT-4o",
      "arguments": [
        {
          "name": "plan",
          "type": "string",
          "required": true,
          "description": "Path to JSON file from SimulationPlanAgent (simulation plan with equations, constants, variables, procedure, outcomes)"
        },
        {
          "name": "datasets",
          "type": "string",
          "required": false,
          "description": "Path to JSON file from DatasetAgent (datasets manifest with dataset_type and datasets paths) - optional"
        }
      ]
    },
    "DatasetAgent": {
      "path": "./agents/DatasetAgent.py",
      "language": "python",
      "description": "Analyzes simulation plans and generates/downloads required datasets (graphs, ML data, bio structures) using Claude 4.5 Sonnet",
      "arguments": [
        {
          "name": "plan",
          "type": "string",
          "required": true,
          "description": "Path to JSON file from SimulationPlanAgent (simulation plan)"
        }
      ]
    },
    "SimulationRunnerAgent": {
      "path": "./agents/SimulationRunnerAgent.py",
      "language": "python",
      "description": "Executes generated Python simulation files, captures outputs, and stores artifacts using pure Python (subprocess, os, shutil)",
      "arguments": [
        {
          "name": "python-file",
          "type": "string",
          "required": true,
          "description": "Path to the Python simulation file"
        },
        {
          "name": "datasets",
          "type": "string",
          "required": false,
          "description": "Path to JSON file containing dataset paths (dict or list)"
        },
        {
          "name": "workdir",
          "type": "string",
          "required": false,
          "description": "Working directory for simulation (default: parent of python_file)"
        },
        {
          "name": "timeout",
          "type": "number",
          "required": false,
          "description": "Timeout in seconds (default: 600)"
        },
        {
          "name": "auto-fix",
          "type": "boolean",
          "required": false,
          "description": "Automatically trigger ErrorFeedbackAgent on errors (requires --simulation-plan)"
        },
        {
          "name": "simulation-plan",
          "type": "string",
          "required": false,
          "description": "Path to simulation plan JSON (required if --auto-fix is used)"
        }
      ]
    },
    "ErrorFeedbackAgent": {
      "path": "./agents/ErrorFeedbackAgent.py",
      "language": "python",
      "description": "Analyzes error reports from SimulationRunnerAgent and generates structured fix requests for CodeGeneratorAgent",
      "arguments": [
        {
          "name": "error-report",
          "type": "string",
          "required": true,
          "description": "Path to JSON file containing error report from SimulationRunnerAgent"
        },
        {
          "name": "simulation-plan",
          "type": "string",
          "required": true,
          "description": "Path to JSON file containing the original simulation plan"
        },
        {
          "name": "original-code",
          "type": "string",
          "required": false,
          "description": "Path to the original Python simulation code file (optional)"
        },
        {
          "name": "output",
          "type": "string",
          "required": false,
          "description": "Path to save the fix request JSON (default: print to stdout)"
        }
      ]
    },
    "ReportAgent": {
      "path": "./agents/ReportAgent.py",
      "language": "python",
      "description": "Generates comprehensive reports analyzing simulation results and comparing expected vs actual outcomes using Claude 4.5 Sonnet",
      "arguments": [
        {
          "name": "paper-understanding",
          "type": "string",
          "required": true,
          "description": "Path to JSON file from PaperUnderstandingAgent"
        },
        {
          "name": "knowledge-graph",
          "type": "string",
          "required": true,
          "description": "Path to JSON file from KnowledgeGraphAgent"
        },
        {
          "name": "hypothesis",
          "type": "string",
          "required": true,
          "description": "Path to JSON file from HypothesisAgent"
        },
        {
          "name": "simulation-plan",
          "type": "string",
          "required": true,
          "description": "Path to JSON file from SimulationPlanAgent"
        },
        {
          "name": "simulation-result",
          "type": "string",
          "required": true,
          "description": "Path to JSON file from SimulationRunnerAgent result"
        },
        {
          "name": "error-history",
          "type": "string",
          "required": false,
          "description": "Path to JSON file containing list of error reports (optional)"
        },
        {
          "name": "output",
          "type": "string",
          "required": false,
          "description": "Path to save the report JSON (default: print to stdout)"
        },
        {
          "name": "markdown-output",
          "type": "string",
          "required": false,
          "description": "Path to save the markdown report (optional)"
        }
      ]
    }
  }
}

